<div class="login-page">
  <div class="login-bg"></div>

  <div class="login-card">

    <img
      src="/assets/logo 2.png"
      alt="Kaappaan Logo"
      class="logo"
    />

    <h2>Kaappaan Admin Login</h2>

    <form (ngSubmit)="submit()" [formGroup]="form" class="form-content">

      <label>Email</label>
      <input type="email" formControlName="email" placeholder="Enter your email" />
       @if (form.controls['email'].invalid && form.controls['email'].touched) {
              <p class="error">Enter a valid email address.</p>}
      <label>Password</label>

<div class="password-wrapper">
  <input
    [type]="showPassword ? 'text' : 'password'"
    formControlName="password"
    placeholder="Enter your password"
  />

  <i 
    class="bi"
    [ngClass]="showPassword ? 'bi-eye-slash' : 'bi-eye'"
    (click)="togglePassword()"
  ></i>
</div>

@if (form.controls['password'].invalid && form.controls['password'].touched) {
  <p class="error">Password is required (min 6 characters).</p>
}

      <button type="submit" [disabled]="loading">
        {{ loading ? 'Logging in...' : 'Login' }}
      </button>

      <p class="error">{{ message }}</p>
    </form>

  </div>

  <footer class="footer">
    Â© {{ currentYear }} Kaappaan Safety Portal | All Rights Reserved.
  </footer>
</div>
