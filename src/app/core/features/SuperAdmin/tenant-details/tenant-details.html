<div class="tenant-list-page">

  <!-- NAVBAR -->
  <nav class="navbar navbar-expand-lg navbar-dark fixed-top modern-nav shadow-lg">
    <div class="container">

      <a class="navbar-brand fw-bold fs-4" href="#">
        <i class="bi bi-shield-lock me-2 text-info"></i>
        <span class="brand-kaappaan">Kaappaan</span>
        <span class="text-dark">Admin</span>
      </a>

      <div class="ms-auto">
        <button class="btn-nav-back" (click)="Back()">â¬… Back</button>
      </div>

    </div>
  </nav>


  <!-- MAIN WRAPPER -->
  <div class="tenant-list-wrapper">

    <div class="tenant-card shadow-lg">

      <!-- HEADER -->
      <div class="header-section">
        <h2 class="page-title">ğŸ¢ {{ selectedServiceType || 'All' }} Tenants</h2>

        <input 
          type="text"
          class="search-box"
          placeholder="Search tenants..."
          [(ngModel)]="searchText"
          (input)="applySearch()"
        />
      </div>


      <!-- TABLE -->
      @if (!loading && filteredTenants.length > 0) {

      <div class="table-responsive mt-3">
        <table class="tenant-table table align-middle">

          <thead>
            <tr>
              <th>Service</th>
              <th>ID</th>
              <th>Name</th>
              <th>Code</th>
              <th>District</th>
              <th>City</th>
              <th>Postal</th>
               <th>Contact</th>
              <th>Email</th>
              <th class="text-center">Actions</th>
            </tr>
          </thead>

          <tbody>
            @for (tenant of filteredTenants; track tenant.id) {
              <tr>
                <td>{{ tenant.serviceType }}</td>
                <td>{{ tenant.id }}</td>
                <td>{{ tenant.name }}</td>
                <td>{{ tenant.code }}</td>
                <td>{{ tenant.stateOrDistrict }}</td>
                <td>{{ tenant.city }}</td>
                <td>{{ tenant.postalCode }}</td>
                <td>{{ tenant.contactNumber }}</td>
                 <td>{{ tenant.email }}</td>

                <td class="action-buttons">
                  <button class="btn-view" (click)="viewTenant(tenant.id)">
                    <i class="bi bi-eye"></i>
                  </button>

                  <button class="btn-edit" (click)="editTenant(tenant.id)">
                    <i class="bi bi-pencil-square"></i>
                  </button>

                  <button class="btn-delete" (click)="deleteTenant(tenant.id)">
                    <i class="bi bi-trash3"></i>
                  </button>
                </td>

              </tr>
            }
          </tbody>

        </table>
      </div>

      }

      <!-- EMPTY STATE -->
      @if (!loading && filteredTenants.length === 0) {
        <p class="empty-text text-center mt-3">No tenants found.</p>
      }

    </div>

  </div>


  <!-- FOOTER -->
  <footer class="footer">
    Â© {{ currentYear }} Kaappaan Safety System | All Rights Reserved.
  </footer>

</div>
